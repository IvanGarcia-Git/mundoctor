import{e as P,r as d,j as e,C as o,c as i,M as f,H as j,J as H,a as v,b as w,q as B,f as G,I as U,w as C,x as S,y as T,z as D,A as n,N as $,O as J,Q,i as R,G as Z,g as N,ad as _,v as K,aa as W}from"./index-75f81b91.js";import{D as X,a as Y,b as ee,c as ae,d as se,e as re}from"./dialog-6497f829.js";const te=P("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),A=[{id:"r1",patientName:"María González",patientAvatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80",rating:5,comment:"Excelente profesional, muy atento y detallado en sus explicaciones. El tratamiento fue muy efectivo.",date:"2024-12-10",appointmentType:"Consulta presencial",specialty:"Cardiología",responded:!1,response:null,verified:!0},{id:"r2",patientName:"Carlos Ruiz",patientAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e",rating:4,comment:"Muy buen doctor, aunque la cita se retrasó un poco. El diagnóstico fue certero.",date:"2024-12-08",appointmentType:"Videoconsulta",specialty:"Cardiología",responded:!0,response:"Gracias por tu valoración, Carlos. Lamento el retraso y trabajaré para mejorar la puntualidad.",responseDate:"2024-12-09",verified:!0},{id:"r3",patientName:"Ana Martín",patientAvatar:"https://images.unsplash.com/photo-1494790108755-2616b612b4d0",rating:5,comment:"Increíble experiencia. El doctor me explicó todo muy claramente y el seguimiento post-consulta fue excelente.",date:"2024-12-05",appointmentType:"Consulta presencial",specialty:"Cardiología",responded:!0,response:"Muchas gracias Ana, es un placer poder ayudarte en tu tratamiento.",responseDate:"2024-12-06",verified:!0},{id:"r4",patientName:"Roberto Silva",patientAvatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d",rating:3,comment:"El tratamiento funcionó, pero esperaba más comunicación durante el proceso.",date:"2024-12-02",appointmentType:"Videoconsulta",specialty:"Cardiología",responded:!1,response:null,verified:!0},{id:"r5",patientName:"Elena Navarro",patientAvatar:"https://images.unsplash.com/photo-1489424731084-a5d8b219a5bb",rating:5,comment:"Profesional excepcional. Su dedicación y conocimiento son impresionantes. Totalmente recomendado.",date:"2024-11-28",appointmentType:"Consulta presencial",specialty:"Cardiología",responded:!0,response:"¡Muchas gracias Elena! Me alegra saber que el tratamiento está funcionando bien.",responseDate:"2024-11-29",verified:!0}],ne=()=>{const[t,E]=d.useState(A),[u,z]=d.useState(A),[c,V]=d.useState(""),[x,M]=d.useState("all"),[m,L]=d.useState("all"),[r,y]=d.useState(null),[g,h]=d.useState(""),[F,p]=d.useState(!1),l={total:t.length,average:t.reduce((a,s)=>a+s.rating,0)/t.length,distribution:{5:t.filter(a=>a.rating===5).length,4:t.filter(a=>a.rating===4).length,3:t.filter(a=>a.rating===3).length,2:t.filter(a=>a.rating===2).length,1:t.filter(a=>a.rating===1).length},responseRate:t.filter(a=>a.responded).length/t.length*100};d.useEffect(()=>{let a=t;c&&(a=a.filter(s=>s.patientName.toLowerCase().includes(c.toLowerCase())||s.comment.toLowerCase().includes(c.toLowerCase()))),x!=="all"&&(a=a.filter(s=>s.rating===parseInt(x))),m==="responded"?a=a.filter(s=>s.responded):m==="pending"&&(a=a.filter(s=>!s.responded)),z(a)},[c,x,m,t]);const I=a=>{y(a),h(a.response||""),p(!0)},q=()=>{r&&g.trim()&&(E(a=>a.map(s=>s.id===r.id?{...s,responded:!0,response:g,responseDate:new Date().toISOString().split("T")[0]}:s)),p(!1),h(""),y(null))},b=a=>Array.from({length:5},(s,k)=>e.jsx(j,{size:16,className:`${k<a?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},k)),O=a=>a>=4?"text-green-600 dark:text-green-400":a>=3?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground dark:text-white",children:"Valoraciones de Pacientes"}),e.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"Consulta y gestiona las valoraciones que han dejado tus pacientes."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(o,{className:"bg-card dark:bg-gray-800/60 border-border dark:border-gray-700/50",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-gray-400",children:"Total Valoraciones"}),e.jsx("p",{className:"text-2xl font-bold text-foreground dark:text-white",children:l.total})]}),e.jsx(f,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})})}),e.jsx(o,{className:"bg-card dark:bg-gray-800/60 border-border dark:border-gray-700/50",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-gray-400",children:"Valoración Media"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-foreground dark:text-white",children:l.average.toFixed(1)}),e.jsx("div",{className:"flex",children:b(Math.round(l.average))})]})]}),e.jsx(j,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(o,{className:"bg-card dark:bg-gray-800/60 border-border dark:border-gray-700/50",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-gray-400",children:"Tasa de Respuesta"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground dark:text-white",children:[l.responseRate.toFixed(0),"%"]})]}),e.jsx(H,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})})}),e.jsx(o,{className:"bg-card dark:bg-gray-800/60 border-border dark:border-gray-700/50",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-gray-400",children:"Valoraciones 5★"}),e.jsx("p",{className:"text-2xl font-bold text-foreground dark:text-white",children:l.distribution[5]})]}),e.jsx(te,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})})})]}),e.jsxs(o,{className:"mb-8 bg-card dark:bg-gray-800/60 border-border dark:border-gray-700/50",children:[e.jsx(v,{children:e.jsx(w,{className:"text-foreground dark:text-white",children:"Distribución de Valoraciones"})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:[5,4,3,2,1].map(a=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 w-12",children:[e.jsx("span",{className:"text-sm text-foreground dark:text-white",children:a}),e.jsx(j,{size:14,className:"fill-yellow-400 text-yellow-400"})]}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${l.total?l.distribution[a]/l.total*100:0}%`}})}),e.jsx("span",{className:"text-sm text-muted-foreground dark:text-gray-400 w-8 text-right",children:l.distribution[a]})]},a))})})]}),e.jsxs(o,{className:"mb-8 bg-card dark:bg-gray-800/60 border-border dark:border-gray-700/50",children:[e.jsx(v,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-foreground dark:text-white",children:"Listado de Valoraciones"}),e.jsxs(B,{className:"text-muted-foreground dark:text-gray-400",children:[u.length," de ",t.length," valoraciones"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[e.jsx(G,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(U,{type:"text",placeholder:"Buscar valoración...",value:c,onChange:a=>V(a.target.value),className:"pl-10 bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white"})]}),e.jsxs(C,{value:x,onValueChange:M,children:[e.jsx(S,{className:"w-full sm:w-32 bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white",children:e.jsx(T,{})}),e.jsxs(D,{className:"bg-popover dark:bg-slate-800 border-border dark:border-gray-700",children:[e.jsx(n,{value:"all",children:"Todas ★"}),e.jsx(n,{value:"5",children:"5 ★"}),e.jsx(n,{value:"4",children:"4 ★"}),e.jsx(n,{value:"3",children:"3 ★"}),e.jsx(n,{value:"2",children:"2 ★"}),e.jsx(n,{value:"1",children:"1 ★"})]})]}),e.jsxs(C,{value:m,onValueChange:L,children:[e.jsx(S,{className:"w-full sm:w-36 bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white",children:e.jsx(T,{})}),e.jsxs(D,{className:"bg-popover dark:bg-slate-800 border-border dark:border-gray-700",children:[e.jsx(n,{value:"all",children:"Todas"}),e.jsx(n,{value:"responded",children:"Respondidas"}),e.jsx(n,{value:"pending",children:"Pendientes"})]})]})]})]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-6",children:u.length>0?u.map(a=>e.jsx("div",{className:"border border-border dark:border-gray-700/50 rounded-lg p-4 bg-background/50 dark:bg-gray-900/50",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs($,{className:"h-12 w-12",children:[e.jsx(J,{src:a.patientAvatar}),e.jsx(Q,{className:"bg-primary/10 text-primary",children:a.patientName.split(" ").map(s=>s[0]).join("")})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-semibold text-foreground dark:text-white",children:a.patientName}),a.verified&&e.jsx(R,{variant:"secondary",className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:"Verificada"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground dark:text-gray-400",children:[e.jsx(Z,{size:14}),new Date(a.date).toLocaleDateString("es-ES")]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex",children:b(a.rating)}),e.jsxs("span",{className:`font-semibold ${O(a.rating)}`,children:[a.rating,".0"]}),e.jsx(R,{variant:"outline",className:"text-xs",children:a.appointmentType})]}),e.jsx("p",{className:"text-foreground dark:text-gray-300 mb-4 leading-relaxed",children:a.comment}),a.responded&&a.response&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(f,{size:14,className:"text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Tu respuesta"}),e.jsx("span",{className:"text-xs text-muted-foreground dark:text-gray-500",children:new Date(a.responseDate).toLocaleDateString("es-ES")})]}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:a.response})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(N,{variant:a.responded?"outline":"default",size:"sm",onClick:()=>I(a),className:a.responded?"":"bg-primary hover:bg-primary/90",children:[e.jsx(f,{size:14,className:"mr-2"}),a.responded?"Editar respuesta":"Responder"]})})]})]})},a.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_,{size:48,className:"mx-auto text-muted-foreground dark:text-gray-600 mb-3"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground dark:text-white mb-2",children:"No hay valoraciones"}),e.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"No se encontraron valoraciones que coincidan con los filtros seleccionados."})]})})})]}),e.jsx(X,{open:F,onOpenChange:p,children:e.jsxs(Y,{className:"sm:max-w-[500px] bg-card dark:bg-gray-800 border-border dark:border-gray-700",children:[e.jsxs(ee,{children:[e.jsx(ae,{className:"text-foreground dark:text-white",children:r!=null&&r.responded?"Editar respuesta":"Responder valoración"}),e.jsxs(se,{className:"text-muted-foreground dark:text-gray-400",children:["Responde a la valoración de ",r==null?void 0:r.patientName]})]}),r&&e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"mb-4 p-3 bg-muted/50 dark:bg-gray-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex",children:b(r.rating)}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:r.patientName})]}),e.jsxs("p",{className:"text-sm text-muted-foreground dark:text-gray-400",children:['"',r.comment,'"']})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"response",className:"text-foreground dark:text-gray-300",children:"Tu respuesta"}),e.jsx(W,{id:"response",value:g,onChange:a=>h(a.target.value),placeholder:"Escribe tu respuesta aquí...",className:"mt-2 bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white",rows:4})]})]}),e.jsxs(re,{children:[e.jsx(N,{variant:"outline",onClick:()=>p(!1),className:"dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700",children:"Cancelar"}),e.jsx(N,{onClick:q,disabled:!g.trim(),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:r!=null&&r.responded?"Actualizar respuesta":"Enviar respuesta"})]})]})})]})};export{ne as default};
