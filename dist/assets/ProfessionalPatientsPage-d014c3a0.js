import{e as z,r as o,u as S,a8 as E,j as e,C as F,a as L,b as M,q as H,f as I,I as l,g as m,v as x,c as B,a7 as R,ab as O,ac as q,i as v,ad as G,ae as U,af as V,ag as J,ah as $,ai as g,h as K,E as Q,aj as W}from"./index-2d2343af.js";import{T as X,a as Y,b as j,c as d,d as Z,e as n}from"./table-039098a9.js";import{D as _,f as ee,a as ae,b as re,c as se,e as te,g as oe}from"./dialog-fc1c39cc.js";import{P as ne}from"./plus-circle-7262adba.js";import{P as le}from"./pen-a305d28b.js";import{T as de}from"./trash-2-a4f2fda4.js";const ie=z("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ce=[{id:"p1",name:"Elena Navarro",email:"elena.n@example.com",phone:"600112233",lastAppointment:"2025-05-20",totalAppointments:5,notes:"Alergia a penicilina."},{id:"p2",name:"Roberto Sanz",email:"roberto.s@example.com",phone:"611223344",lastAppointment:"2025-05-15",totalAppointments:2,notes:"Hipertensión controlada."},{id:"p3",name:"Lucía Jimenez",email:"lucia.j@example.com",phone:"622334455",lastAppointment:"2025-04-28",totalAppointments:8,notes:""},{id:"p4",name:"Marcos Alonso",email:"marcos.a@example.com",phone:"633445566",lastAppointment:"2025-05-02",totalAppointments:3,notes:"Necesita seguimiento anual."}],je=()=>{const[C,h]=o.useState(ce),[u,w]=o.useState(""),[A,p]=o.useState(!1),[i,f]=o.useState(null),[t,b]=o.useState({name:"",email:"",phone:"",notes:""}),[k,me]=o.useState(!1);S(),E();const N=C.filter(a=>a.name.toLowerCase().includes(u.toLowerCase())||a.email.toLowerCase().includes(u.toLowerCase())),y=(a=null)=>{a?(f(a),b({...a})):(f(null),b({name:"",email:"",phone:"",notes:""})),p(!0)},c=a=>{const{name:s,value:r}=a.target;b(T=>({...T,[s]:r}))},P=a=>{a.preventDefault(),h(i?s=>s.map(r=>r.id===i.id?{...t,id:r.id,lastAppointment:r.lastAppointment,totalAppointments:r.totalAppointments}:r):s=>[...s,{...t,id:`p${Date.now()}`,lastAppointment:"N/A",totalAppointments:0}]),p(!1)},D=a=>{h(s=>s.filter(r=>r.id!==a))};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground dark:text-white",children:"Gestión de Pacientes"}),e.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"Consulta y administra la información de tus pacientes."})]}),e.jsxs(F,{className:"bg-card dark:bg-gray-800/60 border-border dark:border-gray-700/50 shadow-lg",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{className:"text-foreground dark:text-white",children:"Listado de Pacientes"}),e.jsx(H,{className:"text-muted-foreground dark:text-gray-400",children:"Visualiza y gestiona tus pacientes."})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[e.jsx(I,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(l,{type:"text",placeholder:"Buscar paciente...",value:u,onChange:a=>w(a.target.value),className:"pl-10 w-full bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),e.jsxs(_,{open:A,onOpenChange:p,children:[e.jsx(ee,{asChild:!0,children:e.jsxs(m,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>y(),children:[e.jsx(ne,{size:18,className:"mr-2"})," Añadir Paciente"]})}),e.jsxs(ae,{className:"sm:max-w-[425px] bg-card dark:bg-gray-800 border-border dark:border-gray-700",children:[e.jsx(re,{children:e.jsx(se,{className:"text-foreground dark:text-white",children:i?"Editar Paciente":"Nuevo Paciente"})}),e.jsxs("form",{onSubmit:P,className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"name",className:"text-foreground dark:text-gray-300",children:"Nombre"}),e.jsx(l,{id:"name",name:"name",value:t.name,onChange:c,required:!0,className:"bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"email",className:"text-foreground dark:text-gray-300",children:"Email"}),e.jsx(l,{id:"email",name:"email",type:"email",value:t.email,onChange:c,className:"bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"phone",className:"text-foreground dark:text-gray-300",children:"Teléfono"}),e.jsx(l,{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:c,className:"bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"notes",className:"text-foreground dark:text-gray-300",children:"Notas"}),e.jsx(l,{id:"notes",name:"notes",value:t.notes,onChange:c,className:"bg-background dark:bg-slate-700 border-border dark:border-gray-600 text-foreground dark:text-white"})]}),e.jsxs(te,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(m,{type:"button",variant:"outline",className:"dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700",children:"Cancelar"})}),e.jsx(m,{type:"submit",disabled:k,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:k?i?"Actualizando...":"Creando...":"Guardar"})]})]})]})]})]})]})}),e.jsx(B,{children:e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs(j,{className:"dark:border-gray-700",children:[e.jsxs(d,{className:"text-muted-foreground dark:text-gray-400",children:[e.jsx(R,{size:16,className:"inline mr-1"})," Nombre"]}),e.jsxs(d,{className:"text-muted-foreground dark:text-gray-400 hidden md:table-cell",children:[e.jsx(O,{size:16,className:"inline mr-1"})," Email"]}),e.jsxs(d,{className:"text-muted-foreground dark:text-gray-400 hidden lg:table-cell",children:[e.jsx(q,{size:16,className:"inline mr-1"})," Teléfono"]}),e.jsx(d,{className:"text-muted-foreground dark:text-gray-400 hidden sm:table-cell",children:"Última Cita"}),e.jsx(d,{className:"text-muted-foreground dark:text-gray-400 text-right",children:"Acciones"})]})}),e.jsx(Z,{children:N.length>0?N.map(a=>e.jsxs(j,{className:"dark:border-gray-700 hover:bg-muted/50 dark:hover:bg-gray-700/30",children:[e.jsx(n,{className:"font-medium text-foreground dark:text-white",children:a.name}),e.jsx(n,{className:"text-muted-foreground dark:text-gray-300 hidden md:table-cell",children:a.email}),e.jsx(n,{className:"text-muted-foreground dark:text-gray-300 hidden lg:table-cell",children:a.phone}),e.jsx(n,{className:"text-muted-foreground dark:text-gray-300 hidden sm:table-cell",children:a.lastAppointment}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.profileCompleted?e.jsx(v,{variant:"default",className:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300",children:"Perfil Completo"}):e.jsxs(v,{variant:"outline",className:"border-orange-500 text-orange-700 dark:text-orange-300",children:[e.jsx(G,{size:12,className:"mr-1"}),"Pendiente"]}),e.jsxs(U,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground dark:text-gray-400 hover:text-primary dark:hover:text-blue-400",children:[e.jsx("span",{className:"sr-only",children:"Abrir menú"}),e.jsx(ie,{className:"h-4 w-4"})]})}),e.jsxs(J,{align:"end",className:"bg-popover dark:bg-slate-800 border-border dark:border-gray-700 text-popover-foreground dark:text-white",children:[e.jsx($,{children:"Acciones"}),e.jsxs(g,{onClick:()=>y(a),className:"hover:!bg-muted/80 dark:hover:!bg-gray-700/50",children:[e.jsx(le,{size:14,className:"mr-2"})," Editar"]}),!a.profileCompleted&&e.jsxs(g,{onClick:()=>resendSetupEmail(a),className:"hover:!bg-muted/80 dark:hover:!bg-gray-700/50",children:[e.jsx(K,{size:14,className:"mr-2"})," Reenviar Email Setup"]}),e.jsxs(g,{className:"hover:!bg-muted/80 dark:hover:!bg-gray-700/50",children:[e.jsx(Q,{size:14,className:"mr-2"})," Ver Detalles (Próx.)"]}),e.jsx(W,{className:"dark:bg-gray-700"}),e.jsxs(g,{onClick:()=>D(a.id),className:"text-destructive hover:!bg-destructive/10 dark:hover:!bg-red-700/30 focus:text-destructive focus:bg-destructive/10",children:[e.jsx(de,{size:14,className:"mr-2"})," Eliminar"]})]})]})]})})]},a.id)):e.jsx(j,{children:e.jsx(n,{colSpan:5,className:"h-24 text-center text-muted-foreground dark:text-gray-400",children:"No se encontraron pacientes."})})})]})})]})]})};export{je as default};
